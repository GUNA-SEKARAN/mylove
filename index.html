<!DOCTYPE html>
<html lang="ta">
<head>
<meta charset="UTF-8">
<title>For Kowsi ‚ù§Ô∏è</title>

<style>
body{
  margin:0;
  height:100vh;
  background:linear-gradient(135deg,#ff5f6d,#ffc371);
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:'Segoe UI',sans-serif;
}

.card{
  background:rgba(255,255,255,0.95);
  padding:35px;
  border-radius:20px;
  width:85%;
  max-width:520px;
  text-align:center;
  z-index:2;
  box-shadow:0 15px 40px rgba(0,0,0,.3);
}

h1{color:#e91e63;margin-bottom:20px}

#letter{
  font-size:18px;
  line-height:1.9;
  color:#333;
  min-height:180px;
  white-space:pre-line;
}

#finalLine{
  display:none;
  font-size:22px;
  color:#e91e63;
  font-weight:bold;
  margin-top:20px;
}

/* floating hearts */
.heart{
  position:absolute;
  font-size:22px;
  color:rgba(255,0,80,.8);
  animation:floatUp 6s linear infinite;
}

@keyframes floatUp{
  0%{transform:translateY(0);opacity:1}
  100%{transform:translateY(-100vh);opacity:0}
}
</style>
</head>

<body>

<div class="card">
  <h1 id="name"></h1>
  <div id="letter"></div>
  <div id="finalLine">Nee illama naan illa ‚ù§Ô∏è</div>
</div>

<!-- üéµ Background Song -->
<audio id="bgMusic" loop>
  <source src="love.mp3" type="audio/mpeg">
</audio>

<script>
/* name */
const params = new URLSearchParams(window.location.search);
const name = params.get("name") || "Kowsi";
document.getElementById("name").innerText = `Hi ${name} ‚ù§Ô∏è`;

/* allow only Kowsi */
if (name.toLowerCase() !== "kowsi") {
  document.body.innerHTML =
    "<h1 style='color:white;text-align:center;margin-top:40vh'>This surprise is not for you üôÇ</h1>";
}

/* love letter */
const text = `
Kowsi‚Ä¶

Unna paatha andha first moment‚Ä¶
ennoda life ninna maadhiri irundhuchu‚Ä¶

Un sirippu‚Ä¶
ennaku romba romba pidikum‚Ä¶

Indha world-la yaar irundhaalum,
ennoda heart choose pannadhu
nee mattum dhaan ‚ù§Ô∏è

Ippovum‚Ä¶
ini eppovum‚Ä¶
naan un pakkathula iruppen‚Ä¶
`;

let i = 0;
const speed = 85;
const letterEl = document.getElementById("letter");

function typeWriter(){
  if(i < text.length){
    letterEl.innerHTML += text.charAt(i);
    i++;
    setTimeout(typeWriter, speed);
  } else {
    setTimeout(startEmotion, 1200);
  }
}
typeWriter();

/* song starts after emotion */
function startEmotion(){
  document.getElementById("finalLine").style.display = "block";
  const music = document.getElementById("bgMusic");
  music.volume = 0.5;
  music.play();
}

/* hearts */
function createHeart(){
  const h = document.createElement("div");
  h.className = "heart";
  h.innerHTML = "‚ù§Ô∏è";
  h.style.left = Math.random()*100 + "vw";
  h.style.animationDuration = (4 + Math.random()*3) + "s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),7000);
}
setInterval(createHeart,600);
</script>

</body>
</html>
